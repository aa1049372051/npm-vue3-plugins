import"./oss-B4DI-S0s.js";import{a as R,u as T}from"./httpV2-BKIcgRKj.js";import{E as v}from"./index-D4rYSTCs.js";import{d as ee,r as te,o as r,e as o,f as E,i as m,z as d,E as J,t as y,a as j,O as ae,w as ne,c as p,h as f,n as le,C as ie,F as b,g as P,A as k}from"./vue.esm-bundler-ngpQzEkL.js";import"./index-Bna4lvNQ.js";let re={};const A=e=>{v({message:e,type:"error"})},F=()=>{re.commit("changeLogin",!1)},se=(e,t)=>{switch(e){case 401:F();break;case 300:A("登录过期，请重新登录"),setTimeout(()=>{F()},1e3);break;case 404:A("请求的资源不存在");break;case 502:A("请求超时，请重试");break;default:console.log(t)}};var B=R.create({headers:{"Content-Type":"application/json","Cache-Control":"no-cache"},timeout:1e3*60});B.interceptors.request.use(e=>{let t={organId:0,userId:0};return e.baseURL?e.url=e.url:e.url.indexOf("/v1")!==0&&(e.url="/jiaparts-support-api/"+e.url),e.method=="get"&&(e.params||(e.params={}),e.params!=null?Object.assign(e.params,t):e.params=t),e},e=>{A("请求异常，请刷新重试"),Promise.error(e)});B.defaults.transformRequest=[function(e){let t={},n={organId:0,userId:0};return e!=null?Object.assign(t,n):t=n,e&&(e.pageno!=null||e.pagesize!=null)&&(t.pageno=e.pageno,t.pagesize=e.pagesize,delete e.pageno,delete e.pagesize),t.param=e,JSON.stringify(t)}];B.interceptors.response.use(e=>{let t={body:{},header:{}};return t.body=e.data,t.header={code:e.data.retCode,msg:e.data.retMsg,success:e.data.retCode=="200"},e.data=t,e.data&&e.data.body&&e.data.body.retCode=="300"&&e.data.body.retMsg=="您的登录状态已失效，请重新登录"&&F(),e},e=>{const{response:t}=e;if(t)return se(t.status,t.data.message),Promise.reject(t);if(!window.navigator.onLine)A("网络已断开，请检查网络设置");else return Promise.reject(e)});let h={};const x=e=>{v({message:e,type:"error"})},V=()=>{h.loginOut()},oe=(e,t)=>{switch(e){case 401:V();break;case 300:x("登录过期，请重新登录"),setTimeout(()=>{V()},1e3);break;case 404:x("请求的资源不存在");break;case 502:x("请求超时，请重试");break;default:console.log(t)}};var H=R.create({headers:{"Content-Type":"application/json","Cache-Control":"no-cache"},timeout:1e3*60});H.interceptors.request.use(e=>(h=T(window.pinia),e.baseURL?e.url=e.url:e.url="/jiaparts-support-api-v3/"+e.url,e.headers.userId=h.userId||0,e.headers.organId=h.organId||0,e.headers.channel=h.channel,e.headers.accessToken=h.accessToken,e),e=>{x("请求异常，请刷新重试"),Promise.error(e)});H.defaults.transformRequest=[function(e){let t={};return h=T(window.pinia),e!=null&&h.postParams!=null&&Object.assign(e,h.postParams),e&&(e.pageno!=null||e.pagesize!=null)&&(t.pageno=e.pageno,t.pagesize=e.pagesize,delete e.pageno,delete e.pagesize),t.param=e,JSON.stringify(t)}];H.interceptors.response.use(e=>(e.data&&e.data.body&&e.data.body.retCode=="300"&&e.data.body.retMsg=="您的登录状态已失效，请重新登录"&&V(),e),e=>{const{response:t}=e;if(t)return oe(t.status,t.data.message),Promise.reject(t);if(!window.navigator.onLine)x("网络已断开，请检查网络设置");else return Promise.reject(e)});function ce(e,t,n){var c,i,s,u,w,g=function(){var D=Date.now()-u;D<t&&D>=0?c=setTimeout(g,t-D):(c=null,w=e.apply(s,i),c||(s=i=null))};return()=>(i=arguments,u=Date.now(),c||(c=setTimeout(g,t)),w)}let z={};const N=e=>{v({showClose:!0,message:e,type:"error"})},O=()=>{z.loginOut()},ue=(e,t)=>{switch(e){case 401:O();break;case 300:N("登录过期，请重新登录"),setTimeout(()=>{O()},1e3);break;case 404:N("请求的资源不存在");break;case 502:N("请求超时，请重试");break;default:console.log(t)}};var U=R.create({headers:{"Content-Type":"application/json","Cache-Control":"no-cache"},timeout:1e3*20});U.interceptors.request.use(e=>(console.log(e,"config"),z=T(window.pinia),e.baseURL?e.url=e.url:e.url="/v3-yyt/"+e.url,z.tokenInfo.token&&(e.headers.Authorization="Bearer "+z.tokenInfo.token),e),e=>{N("请求异常，请刷新重试"),Promise.error(e)});U.defaults.transformRequest=[function(e){let t={};return e&&(e.pageno!=null||e.pagesize!=null)&&(t.pageno=e.pageno,t.pagesize=e.pagesize,delete e.pageno,delete e.pagesize),t.param=e,JSON.stringify(t)}];U.interceptors.response.use(e=>(e.data&&e.data.body&&e.data.body.retCode=="300"&&e.data.body.retMsg=="您的登录状态已失效，请重新登录"&&O(),e),e=>{const{response:t}=e;if(t)return ue(t.status,t.data.message),Promise.reject(t);if(!window.navigator.onLine)N("网络已断开，请检查网络设置");else return Promise.reject(e)});const Q={name:"BaseScroll",props:{openScroll:{type:Boolean,default(){return!1}},deviation:{type:Number,default(){return 1}}},data(){return{maxTableHeight:null,toScroll:!1,deviationValue:null,hasScroll:!1}},computed:{},methods:{changeTable(){let e=window.innerHeight;if(!document.getElementsByClassName("tableScroll")[0])return;let t=document.getElementsByClassName("el-table__header-wrapper")[0].clientHeight,n=document.getElementsByClassName("el-table__body")[0].getElementsByTagName("tbody")[0].clientHeight;if(n==0)return this.hasScroll=!1,this.maxTableHeight="",!1;let c=this.deviationValue||this.deviation,i=t*1+n+c*1,s=document.getElementsByClassName("gridviewFoot")[0]?document.getElementsByClassName("gridviewFoot")[0].clientHeight:0,u=this.getNodeHeight(document.getElementsByClassName("tableScroll")[0]),w=document.getElementsByClassName("mainHeader")[0]?document.getElementsByClassName("mainHeader")[0].clientHeight:0,g=e-u-this.getStyle(document.getElementsByClassName("mainContent")[0],"paddingBottom")-this.getStyle(document.getElementsByClassName("mainContent")[0],"paddingTop")-s-w*1;g>i?(this.maxTableHeight=i,this.hasScroll=!1):(this.maxTableHeight=g,this.hasScroll=!0)},getNodeHeight(e,t=0){if(!e)return 0;let n=e.offsetTop,c=e.offsetParent;return t=n+t,c&&c.nodeName!="BODY"?this.getNodeHeight(c,t):t},getStyle(e,t){return e.currentStyle?e.currentStyle[t].replace("px","")*1:document.defaultView.getComputedStyle(e,null)[t].replace("px","")*1}},activated(){(this.openScroll||this.toScroll)&&this.changeTable()},mounted(){window.addEventListener("resize",ce(()=>{(this.openScroll||this.toScroll)&&this.changeTable()},500))}};Q.__docgenInfo={displayName:"BaseScroll",exportName:"default",description:"",tags:{},props:[{name:"openScroll",type:{name:"boolean"},defaultValue:{func:!0,value:`function() {
  return false;
}`}},{name:"deviation",type:{name:"number"},defaultValue:{func:!0,value:`function() {
  return 1;
}`}}],sourceFiles:["/home/runner/work/npm-vue3-plugins/npm-vue3-plugins/packages/components/wgridview/src/baseScroll.vue"]};const de=""+new URL("empty-DrdIVh8W.png",import.meta.url).href,me="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAG4AAABuCAYAAADGWyb7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTExIDc5LjE1ODMyNSwgMjAxNS8wOS8xMC0wMToxMDoyMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjYxNjA5MkZCRkE1RjExRTc4NTNDQjAxQ0IwRUY3ODI4IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjYxNjA5MkZDRkE1RjExRTc4NTNDQjAxQ0IwRUY3ODI4Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NjE2MDkyRjlGQTVGMTFFNzg1M0NCMDFDQjBFRjc4MjgiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NjE2MDkyRkFGQTVGMTFFNzg1M0NCMDFDQjBFRjc4MjgiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5axrp5AAAHcUlEQVR42uxd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",he=""+new URL("cry-B9NKbI4F.png",import.meta.url).href,ge="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC4AAAAuCAYAAABXuSs3AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTExIDc5LjE1ODMyNSwgMjAxNS8wOS8xMC0wMToxMDoyMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjY4QkIwNzExMDFBNzExRThCQUFGOEYzMUIzNjJCREVDIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjY4QkIwNzEyMDFBNzExRThCQUFGOEYzMUIzNjJCREVDIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NjhCQjA3MEYwMUE3MTFFOEJBQUY4RjMxQjM2MkJERUMiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NjhCQjA3MTAwMUE3MTFFOEJBQUY4RjMxQjM2MkJERUMiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7hSBz/AAAD5klEQVR42tSaWUgVURjH56aVKZUZLWZUlmRZIGJWWkJF9dAGYj70UKBWmA+2UfTQBkVBRSTSQpAtDxXRQg9hi4UUlS1Gm0XhRbRuYZulFd0yb/+P+wnDxTtz5syZCQ/8OOqZc+Y/33xn+b7REwgEtK5YumldtETaHeBO/e+OH6eB2SAVJIM+gF6nH3jBC3AVVIIfHZ2yEntI3ddj11UgvBhVAUgX7NIIjoAy0Oy6cAiegGo/mCj5zO/AWgg/7ZpwiM5HVa7IXUshfpXjwiG6CNVBxXOtHOILHRMO0TNQXXdoodgO8ZuUC4foGFRvQD8HV7lMiK9WvRzuFhRN6+MtUAvaQBKYAvoL9D0BRiuzOKw9BJVPYLxDYBeoD/l7HCAf3iFgrIWw+jlVO+dygWuWghWdiKbyhd9YJmgxGWelyi1/gUn7Zt5UzMpDMM/kmmy84QRVwtMM2urANgtzhfzfbNPJcuOQdVSiT5lJ+zg3hD+Q6PMSfDdoj3NDeKtEH7/JJPW4IbyvRJ+eJv1aVAn/Y9A2WUI4+XCMQft9VcJvGrTlSwgvMWijIOOGKuHHDdqGg50WRFOUlGfQfhY7Z6sq4WcoWjFo3wCKBcbJBhdtLpXiwmEBP59BjApFQ8fA+E7aBoON7HJRBmNU4V41qo+1FBw2gViBy2/z6ZBOimNBBgfPZiUdwh85EUgsQ3XYobP4eYjOdTJ0I0umKBZNIuIhvMnJhNASB6y93opoO1F+qclabKU8hug0q52ktnzciA77XkXC82Q62Tmr5CgQXQIj1LkqHDd8hmqdDdFXRDcb5adDiN+D6ppE188g1869VRxrc3hjslLma7qM7f8STgLmWLh+Nbhr96aqEvu0TRcInjL3qbhh2HVcl7C3UvayRcOlJjIk5pEjFu8FxoAI/n0NqOjkuo9gFhioBdNxIzh8ky6RFlxqEodpKXx0TQSDdMfWJt3Ee6o7z/wF08FXsAicDHkgL0f9r/jYew+0qxBOFqIsVTL//hY8B6dAA3gfEumTUEpHU2a3uxbMXNVyWyU/BD1wPBjG487UhYD0EIVmE9hMeDS4oAVzf0XsBo0CD0vWnwtGgsshFq4K0yee3xZ9nbgEhoKfssJ/acEkZir7qJ9f5Wu2rFER3ZjorVAqeiovq/SwT/je0hZvZ8FbwGLdbkfpCh9bv4HdooXjUnKbNt0YEbropze7CU3SATxPklg8lU/gANhq5udWlkManD4J0te2USwgQSckViADFeBJ+oHdyce1l5fLmtAcTrjl0MoXCRqwmjHKUEVzlipK527f2F/9qiKPSE1t8TPNmsPF01X/CeGfAAMAw10UsOHD7xoAAAAASUVORK5CYII=",pe={class:"inline-block align-middle"},fe={key:0,src:de},be={key:1,src:me},ye={key:2,src:he},we={key:3,src:ge},Ce={class:"inline-block align-middle"},De={key:0,class:"text-left leading-10"},ke=E("span",{class:"text-base"},"无数据",-1),Se=[ke],Ae={key:0,class:"text-xs"},X=ee({__name:"main",props:{content:{type:String,default(){return""}},top:{type:String,default(){return"20px"}},type:{type:String,default(){return"empty"}}},setup(e){return te({empty:"暂时没有数据",error:"加载失败"}),(t,n)=>(r(),o("div",{class:"text-center",style:J({"margin-top":e.top})},[E("div",pe,[e.type=="empty"?(r(),o("img",fe)):m("",!0),e.type=="error"?(r(),o("img",be)):m("",!0),e.type=="cry"?(r(),o("img",ye)):m("",!0),e.type=="address"?(r(),o("img",we)):m("",!0)]),E("div",Ce,[d(t.$slots,"title",{},()=>[e.content?m("",!0):(r(),o("div",De,Se))]),d(t.$slots,"tips",{},()=>[e.content?(r(),o("a",Ae,y(e.content),1)):m("",!0)])])],4))}});X.__docgenInfo={exportName:"default",displayName:"main",description:"",tags:{},props:[{name:"content",type:{name:"string"},defaultValue:{func:!0,value:`function() {
  return "";
}`}},{name:"top",type:{name:"string"},defaultValue:{func:!0,value:`function() {
  return "20px";
}`}},{name:"type",type:{name:"string"},defaultValue:{func:!0,value:`function() {
  return "empty"; //empty error 空数据  异常
}`}}],slots:[{name:"title"},{name:"tips"}],sourceFiles:["/home/runner/work/npm-vue3-plugins/npm-vue3-plugins/packages/components/statustips/src/main.vue"]};const xe=(e,t)=>{const n=e.__vccOpts||e;for(const[c,i]of t)n[c]=i;return n},K={name:"WGridView",extends:Q,components:{statustips:X},props:{columns:{type:Array,default(){return[]}},checkboxColumn:{type:Object,default(){return null}},actionColumn:{type:[String,Object],default(){return null}},tableOptions:{type:Object,default(){return{width:"100%",border:!0,stripe:!0}}},rowClassName:{type:Function,default:Function()},rowStyle:{type:Function,default:Function()},rowKey:{type:Function,default:Function()},summaryMethod:{type:Function,default:Function()},spanMethod:{type:Function,default:Function()},renderHeader:{type:Function,default:Function()},formatter:{type:Function,default:Function()},selectable:{type:Function,default:Function()},filterMethod:{type:Function,default:Function()},responseCb:{type:Function,default:null},changePageCb:{type:Function,default:null},pageData:{type:Object,default(){return{init:!1}}},pageLayout:{type:String,default(){return""}},searchData:{type:Object,default(){return{}}},javaApi:{type:Function,default:Function()},url:{type:String,default:""},closePage:{type:Boolean,default(){return!0}},showPage:{type:Boolean,default(){return!0}},pageSize:{type:[String,Number],default(){return null}},pagerCount:{type:Number,default(){return 7}},content:{type:String,default(){return""}},contentType:{type:String,default(){return"empty"}},initSearch:{type:Boolean,default(){return!1}},maxTableHeightSwitch:{type:Boolean,default(){return!1}},maxTableHeightDefault:{type:Number,default(){return 70}},httpType:{type:String,default(){return"php"}},cellClassName:{type:Function,default:Function()}},data(){return{tableID:`table_${parseInt(Math.random()*1e5)}`,newMaxTableHeight:"auto",initSearch_:this.initSearch,defaultData:{align:"center",actionColumn:{fixed:void 0,label:"操作"},checkboxColumn:{type:"selection",width:50}},searchData_:{},dataProvider:[],pageData_:{small:!1,pageSize:25,total:0,pageCount:void 0,page:1,popperClass:"",layout:"total, sizes, prev, pager, next, jumper",pageSizes:[25,50,75,100]},triggerPage_:!0,lock_:!1,loading:!0,timeout:""}},methods:{selectionChange(){this.$emit("selection-change",arguments)},select(){this.$emit("select",arguments)},selectionAll(){this.$emit("selection-all",arguments)},cellMouseEnter(){this.$emit("cell-mouse-enter",arguments)},cellMouseLeave(){this.$emit("cell-mouse-leave",arguments)},cellClick(){this.$emit("cell-click",arguments)},cellDblclick(){this.$emit("cell-dblclick",arguments)},rowClick(){this.$emit("row-click",arguments)},rowContextmenu(){this.$emit("row-contextmenu",arguments)},rowDblclick(){this.$emit("row-dblclick",arguments)},headerClick(){this.$emit("header-click",arguments)},sortChange(){this.$emit("sort-change",arguments)},filterChange(){this.$emit("filter-change",arguments)},currentChange(){this.$emit("current-change",arguments)},headerDragend(){this.$emit("header-dragend",arguments)},expand(){this.$emit("expand",arguments)},submit(){this.triggerPage_=!1,this.pageData_.page=1,console.log("请求数据6"),this.getData_()},getData_(){if(console.log("请求数据"),clearTimeout(this.timeout),!this.lock_){if(this.initSearch_)return this.loading=!1,this.initSearch_=!1,!1;this.lock_=!0,this.loading=!0,this.javaApi(JSON.parse(JSON.stringify(this.searchData_))).then(e=>{this.lock_=!1,e.data&&e.status==200?(this.responseCb?this.dataProvider=this.responseCb(e):this.dataProvider=[],e.data=e.data.body?e.data.body:e.data,this.pageData_.total=e.data.total||0):this.dataProvider=[],this.$nextTick(()=>{this.$emit("done",this.dataProvider)}),this.timeout=setTimeout(()=>{this.changeTable()},500),this.triggerPage_=!0},()=>{this.dataProvider=[],this.lock_=!1,this.triggerPage_=!0}).finally(()=>{this.loading=!1,this.lock_=!1,this.triggerPage_=!0})}},refresh(){console.log("请求数据1"),this.getData_()},unshift(e){this.dataProvider.unshift(e)},push(e){this.dataProvider.push(e)},setSearchData(e){this.searchData_=e||{},this.searchData_.pagesize=this.pageData_.pageSize,this.searchData_.pageno=1,this.submit()},setSearchDataByPage(e){this.searchData_=e||{},this.searchData_.pagesize=this.pageData_.pageSize,this.searchData_.pageno=this.pageData_.page?this.pageData_.page:1,this.submitByPage()},submitByPage(){this.triggerPage_=!1,console.log("请求数据2"),this.getData_()},setRefresh(){console.log("请求数据3"),this.getData_()},_changePageTrue(e){this.triggerPage_&&(this.searchData_.pageno=e,console.log("请求数据4"),this.getData_())},_changePageFalse(){this.$set(this.pageData_,"page",this.searchData_.pageno)},handleCurrentChange(e){this.changePageCb?this.changePageCb(this.dataProvider,e,this):this._changePageTrue(e)},handleSizeChange(e){this.triggerPage_&&(this.pageData_.pageSize=e,this.searchData_.pageno=1,this.searchData_.pagesize=e,this.pageData_.page=1,console.log("请求数据5"),this.getData_())},setDataProvider(e){this.dataProvider=e},getDataProvider(){return JSON.parse(JSON.stringify(this.dataProvider))},toggleRowSelection(e,t){this.$refs.multipleTable.toggleRowSelection(e,t)},toggleRowExpansion(e,t){this.$refs.multipleTable.toggleRowExpansion(e,t)},clearSelection(){this.$refs.multipleTable.clearSelection()},setCurrentRow(e){this.$refs.multipleTable.setCurrentRow(e)},getNewMaxTableHeight(){if(!this.maxTableHeightSwitch)return;let e=!1,t=document.getElementsByClassName("el-dialog");if(t.length>0&&Object.keys(t).forEach(c=>{let s=t[c].getElementsByClassName("wapigridview");Object.keys(s).forEach(u=>{s[u].getAttribute("id")==this.tableID&&(e=!0)})}),e)return!1;let n=0;(this.closePage&&this.pageData_.total>10&&this.dataProvider.length>0||this.showPage)&&(n=70),this.newMaxTableHeight=Math.floor(window.innerHeight-this.maxTableHeightDefault-document.querySelector(`#${this.tableID}`).getBoundingClientRect().top-n)+"px"}},mounted(){this.getNewMaxTableHeight(),this.pageSize&&(this.pageData_.pageSize=this.pageSize),this.pageData&&(this.pageData.pageSize||this.pageData.pageSize==0)&&(this.pageData_.pageSize=this.pageData.pageSize,this.$set(this.pageData_,"pageSizes",this.pageData.pageSizes)),this.pageData.init!==!1&&(this.pageData_=Object.assign(this.pageData_,this.pageData)),this.setSearchData(Object.assign({},this.searchData))},beforeDestroy(){this.dataProvider=[]}},Ne=["id"],je={key:1},Ie={key:1},ze={key:0,class:"gridviewFoot",style:{float:"right","padding-top":"10px"}};function Me(e,t,n,c,i,s){const u=j("el-table-column"),w=j("statustips"),g=j("el-table"),D=j("el-pagination"),q=ae("loading");return r(),o("div",{id:i.tableID,class:ie({tableScroll:e.openScroll,clear:!0,wapigridview:!0})},[ne((r(),p(g,{size:"small","cell-class-name":n.cellClassName,"row-key":n.tableOptions["row-key"],data:i.dataProvider,ref:"multipleTable",style:J(n.tableOptions.style),height:e.maxTableHeight,"max-height":n.tableOptions.maxTableHeight||e.maxTableHeight||i.newMaxTableHeight,stripe:n.tableOptions.stripe,border:n.tableOptions.border,fit:n.tableOptions.fit,"show-header":n.tableOptions["show-header"],"highlight-current-row":n.tableOptions["highlight-current-row"],"current-row-key":n.tableOptions["current-row-key"],"row-class-name":n.tableOptions["row-class-name"]||n.rowClassName,"row-style":n.tableOptions["row-style"]||n.rowStyle,"empty-text":n.tableOptions["empty-text"],"default-expand-all":n.tableOptions["default-expand-all"],"expand-row-keys":n.tableOptions["expand-row-keys"],"default-sort":n.tableOptions["default-sort"],"tooltip-effect":n.tableOptions["tooltip-effect"],"tooltip-open-delay":"500","show-summary":n.tableOptions["show-summary"],"sum-text":n.tableOptions["sum-text"],"span-method":n.tableOptions["sum-method"],"summary-method":n.summaryMethod,onSelect:s.select,onSelectionAll:s.selectionAll,onSelectionChange:s.selectionChange,onCellMouseEnter:s.cellMouseEnter,onCellMouseLeave:s.cellMouseLeave,onCellClick:s.cellClick,onCellDblclick:s.cellDblclick,onRowClick:s.rowClick,onRowContextmenu:s.rowContextmenu,onRowDblclick:s.rowDblclick,onHeaderClick:s.headerClick,onSortChange:s.sortChange,onFilterChange:s.filterChange,onCurrentChange:s.currentChange,onHeaderDragend:s.headerDragend,onExpandChange:s.expand},{default:f(()=>[n.checkboxColumn?(r(),p(u,{key:0,selectable:n.checkboxColumn.type=="selection"?n.checkboxColumn.selectable:null,"reserve-selection":n.checkboxColumn["reserve-selection"],type:n.checkboxColumn.type||i.defaultData.checkboxColumn.type,width:n.checkboxColumn.width||i.defaultData.checkboxColumn.width,fixed:n.checkboxColumn.fixed,label:n.checkboxColumn.label||"序号",align:"center"},null,8,["selectable","reserve-selection","type","width","fixed","label"])):m("",!0),(r(!0),o(b,null,P(n.columns,(a,M)=>(r(),o(b,null,[a.child?(r(),p(u,{key:M+"-1",prop:a.prop,label:a.label,width:a.width,"min-width":a["min-width"],fixed:a.fixed,"render-header":a["render-header"],sortable:a.sortable,"sort-method":a["sort-method"],resizable:a.resizable,formatter:a.formatter,"show-overflow-tooltip":a["show-overflow-tooltip"],align:a.aligh||n.tableOptions.aligh||i.defaultData.align,"header-cell-class-name":a.calssName,"header-align":a["header-align"],"class-name":a["class-name"],"label-class-name":a["label-class-name"],selectable:a.selectable,"reserve-selection":a["reserve-selection"],filters:a.filters,"filter-placement":a["filter-placement"],"filter-multiple":a["filter-multiple"],"filter-method":a["filter-method"],"filtered-value":a["filtered-value"]},{default:f(()=>[(r(!0),o(b,null,P(a.child,(l,$)=>(r(),p(u,{key:$,prop:l.prop,label:l.label,width:l.width,"min-width":l["min-width"],fixed:a.fixed,"render-header":l["render-header"],sortable:l.sortable,"sort-method":l["sort-method"],resizable:l.resizable,formatter:l.formatter,"show-overflow-tooltip":l["show-overflow-tooltip"],align:l.aligh||n.tableOptions.aligh||i.defaultData.align,"header-cell-class-name":l.calssName,"header-align":l["header-align"],"class-name":l["class-name"],"label-class-name":l["label-class-name"],selectable:l.selectable,"reserve-selection":l["reserve-selection"],filters:l.filters,"filter-placement":l["filter-placement"],"filter-multiple":l["filter-multiple"],"filter-method":l["filter-method"],"filtered-value":l["filtered-value"]},{header:f(()=>[l.scopeHeader?d(e.$slots,l.scopeHeader,{key:0,scop:scope}):(r(),o("span",je,y(l.label),1))]),default:f(C=>[l.scope?d(e.$slots,a.prop,{key:0,scop:C,rowName:l.prop,row:C.row,value1:C.row[l.prop]}):l.formatter?(r(),o(b,{key:1},[k(y(l.formatter(C.row,C.column)),1)],64)):(r(),o(b,{key:2},[k(y(C.row[l.prop]),1)],64))]),_:2},1032,["prop","label","width","min-width","fixed","render-header","sortable","sort-method","resizable","formatter","show-overflow-tooltip","align","header-cell-class-name","header-align","class-name","label-class-name","selectable","reserve-selection","filters","filter-placement","filter-multiple","filter-method","filtered-value"]))),128))]),_:2},1032,["prop","label","width","min-width","fixed","render-header","sortable","sort-method","resizable","formatter","show-overflow-tooltip","align","header-cell-class-name","header-align","class-name","label-class-name","selectable","reserve-selection","filters","filter-placement","filter-multiple","filter-method","filtered-value"])):a.hide!==!0?(r(),p(u,{key:M+"-2",prop:a.prop,label:a.label,width:a.width,"min-width":a["min-width"],fixed:a.fixed,"render-header":a["render-header"],sortable:a.sortable,"sort-method":a["sort-method"],resizable:a.resizable,formatter:a.formatter,"show-overflow-tooltip":a["show-overflow-tooltip"],align:a.aligh||n.tableOptions.aligh||i.defaultData.align,"header-align":a["header-align"],"class-name":a["class-name"],"label-class-name":a["label-class-name"],selectable:a.selectable,"reserve-selection":a["reserve-selection"],filters:a.filters,"filter-placement":a["filter-placement"],"filter-multiple":a["filter-multiple"],"filter-method":a["filter-method"],"filtered-value":a["filtered-value"]},{header:f(()=>[a.scopeHeader?d(e.$slots,a.scopeHeader,{key:0,scop:scope}):(r(),o("span",Ie,y(a.label),1))]),default:f(l=>[a.scope?d(e.$slots,a.prop,{key:0,a:"9",scop:l,rowName:a.prop,row:l.row,value:l.row[a.prop]}):a.formatter?(r(),o(b,{key:1},[k(y(a.formatter(l.row,l.column)),1)],64)):(r(),o(b,{key:2},[k(y(l.row[a.prop]),1)],64))]),_:2},1032,["prop","label","width","min-width","fixed","render-header","sortable","sort-method","resizable","formatter","show-overflow-tooltip","align","header-align","class-name","label-class-name","selectable","reserve-selection","filters","filter-placement","filter-multiple","filter-method","filtered-value"])):a.hide==!0&&a.type&&a.type=="expand"?(r(),p(u,{key:M+"-3",type:"expand",width:a.width,label:a.label},{default:f(l=>[d(e.$slots,a.prop,{scop:l,row:l.row})]),_:2},1032,["width","label"])):m("",!0)],64))),256)),n.actionColumn?(r(),p(u,{key:1,fixed:e.maxTableHeight?n.actionColumn.fixed||i.defaultData.actionColumn.fixed:null,label:n.actionColumn.label||i.defaultData.actionColumn.label,width:n.actionColumn.width||"100",align:"center"},{default:f(a=>[d(e.$slots,"actionColumn",{scop:a,index:a.$index,row:a.row})]),_:3},8,["fixed","label","width"])):m("",!0),i.loading?m("",!0):d(e.$slots,"default",{key:2,slot:"empty"},()=>[n.tableOptions["empty-text"]?(r(),o(b,{key:0},[k(y(n.tableOptions["empty-text"]),1)],64)):(r(),p(w,{key:1,type:n.contentType,content:n.content},null,8,["type","content"]))])]),_:3},8,["cell-class-name","row-key","data","style","height","max-height","stripe","border","fit","show-header","highlight-current-row","current-row-key","row-class-name","row-style","empty-text","default-expand-all","expand-row-keys","default-sort","tooltip-effect","show-summary","sum-text","span-method","summary-method","onSelect","onSelectionAll","onSelectionChange","onCellMouseEnter","onCellMouseLeave","onCellClick","onCellDblclick","onRowClick","onRowContextmenu","onRowDblclick","onHeaderClick","onSortChange","onFilterChange","onCurrentChange","onHeaderDragend","onExpandChange"])),[[q,i.loading]]),d(e.$slots,"tips"),d(e.$slots,"summary"),n.closePage&&i.pageData_.total>10&&i.dataProvider.length>0||n.showPage?(r(),o("div",ze,[le(D,{"pager-count":n.pagerCount,small:i.pageData_.small,"page-size":i.pageData_.pageSize,"popper-class":i.pageData_.popperClass,"page-sizes":i.pageData_.pageSizes,total:i.pageData_.total,"current-page":i.pageData_.page,"onUpdate:currentPage":t[0]||(t[0]=a=>i.pageData_.page=a),onCurrentChange:s.handleCurrentChange,onSizeChange:s.handleSizeChange,layout:n.pageLayout||i.pageData_.layout},null,8,["pager-count","small","page-size","popper-class","page-sizes","total","current-page","onCurrentChange","onSizeChange","layout"])])):m("",!0)],10,Ne)}const Ee=xe(K,[["render",Me]]);K.__docgenInfo={displayName:"WGridView",exportName:"default",description:"",tags:{},props:[{name:"openScroll",type:{name:"boolean"},defaultValue:{func:!0,value:`function() {
  return false;
}`}},{name:"deviation",type:{name:"number"},defaultValue:{func:!0,value:`function() {
  return 1;
}`}},{name:"columns",description:"表格数据列1",type:{name:"array"},defaultValue:{func:!1,value:"[]"}},{name:"checkboxColumn",description:"表格多选列",type:{name:"object"},defaultValue:{func:!1,value:"null"}},{name:"actionColumn",description:"表格操作列",type:{name:"string|object"},defaultValue:{func:!0,value:`function() {
  return null;
}`}},{name:"tableOptions",description:"表格配置",type:{name:"object"},defaultValue:{func:!1,value:`{
  width: "100%",
  border: true, 
  stripe: true
}`}},{name:"rowClassName",description:"行名称",type:{name:"func"},defaultValue:{func:!1,value:"Function()"}},{name:"rowStyle",description:"行风格",type:{name:"func"},defaultValue:{func:!1,value:"Function()"}},{name:"rowKey",description:"rowKey",type:{name:"func"},defaultValue:{func:!1,value:"Function()"}},{name:"summaryMethod",description:"summaryMethod",type:{name:"func"},defaultValue:{func:!1,value:"Function()"}},{name:"spanMethod",description:"spanMethod",type:{name:"func"},defaultValue:{func:!1,value:"Function()"}},{name:"renderHeader",type:{name:"func"},defaultValue:{func:!1,value:"Function()"}},{name:"formatter",type:{name:"func"},defaultValue:{func:!1,value:"Function()"}},{name:"selectable",type:{name:"func"},defaultValue:{func:!1,value:"Function()"}},{name:"filterMethod",type:{name:"func"},defaultValue:{func:!1,value:"Function()"}},{name:"responseCb",description:"处理返回数据的格式化",type:{name:"func"},defaultValue:{func:!1,value:"null"}},{name:"changePageCb",description:"翻页时判断提示",type:{name:"func"},defaultValue:{func:!1,value:"null"}},{name:"pageData",description:"分页数据",type:{name:"object"},defaultValue:{func:!1,value:`{
  init: false,
}`}},{name:"pageLayout",description:"分页布局",type:{name:"string"},defaultValue:{func:!0,value:`function() {
  return "";
}`}},{name:"searchData",description:"搜索条件",type:{name:"object"},defaultValue:{func:!1,value:"{}"}},{name:"javaApi",description:"api接口",type:{name:"func"},defaultValue:{func:!1,value:"Function()"}},{name:"url",type:{name:"string"},defaultValue:{func:!1,value:'""'}},{name:"closePage",description:"开启分页",type:{name:"boolean"},defaultValue:{func:!0,value:`function() {
  return true;
}`}},{name:"showPage",description:"始终开启分页",type:{name:"boolean"},defaultValue:{func:!0,value:`function() {
  return true;
}`}},{name:"pageSize",description:"分页",type:{name:"string|number"},defaultValue:{func:!0,value:`function() {
  return null;
}`}},{name:"pagerCount",type:{name:"number"},defaultValue:{func:!0,value:`function() {
  return 7;
}`}},{name:"content",type:{name:"string"},defaultValue:{func:!0,value:`function() {
  return "";
}`}},{name:"contentType",type:{name:"string"},defaultValue:{func:!0,value:`function() {
  return "empty";
}`}},{name:"initSearch",description:`初始不加载数据的开关
      true 为不加载数据
      false 为加载数据`,type:{name:"boolean"},defaultValue:{func:!0,value:`function() {
  return false;
}`}},{name:"maxTableHeightSwitch",type:{name:"boolean"},defaultValue:{func:!0,value:`function() {
  return false;
}`}},{name:"maxTableHeightDefault",type:{name:"number"},defaultValue:{func:!0,value:`function() {
  return 70;
}`}},{name:"httpType",type:{name:"string"},defaultValue:{func:!0,value:`function() {
  return "php"; //java,php,v3
}`}},{name:"cellClassName",type:{name:"func"},defaultValue:{func:!1,value:"Function()"}}],events:[{name:"selection-change",type:{names:["undefined"]}},{name:"select",type:{names:["undefined"]}},{name:"selection-all",type:{names:["undefined"]}},{name:"cell-mouse-enter",type:{names:["undefined"]}},{name:"cell-mouse-leave",type:{names:["undefined"]}},{name:"cell-click",type:{names:["undefined"]}},{name:"cell-dblclick",type:{names:["undefined"]}},{name:"row-click",type:{names:["undefined"]}},{name:"row-contextmenu",type:{names:["undefined"]}},{name:"row-dblclick",type:{names:["undefined"]}},{name:"header-click",type:{names:["undefined"]}},{name:"sort-change",type:{names:["undefined"]}},{name:"filter-change",type:{names:["undefined"]}},{name:"current-change",type:{names:["undefined"]}},{name:"header-dragend",type:{names:["undefined"]}},{name:"expand",type:{names:["undefined"]}},{name:"done",type:{names:["undefined"]}}],slots:[{name:"value1.scopeHeader",scoped:!0,bindings:[{name:"scop",title:"binding"},{name:"name",title:"binding"}]},{name:"value.prop",scoped:!0,bindings:[{name:"scop",title:"binding"},{name:"name",title:"binding"},{name:"row",title:"binding"}]},{name:"value.scopeHeader",scoped:!0,bindings:[{name:"scop",title:"binding"},{name:"name",title:"binding"}]},{name:"actionColumn",scoped:!0,bindings:[{name:"scop",title:"binding"},{name:"index",title:"binding"},{name:"row",title:"binding"}]},{name:"default",scoped:!0,bindings:[{name:"slot",title:"binding"}]},{name:"tips"},{name:"summary"}],sourceFiles:["/home/runner/work/npm-vue3-plugins/npm-vue3-plugins/packages/components/wgridview/src/baseScroll.vue","/home/runner/work/npm-vue3-plugins/npm-vue3-plugins/packages/components/wgridview/src/main.vue"]};const Be={component:Ee,tags:["autodocs"],argTypes:{},title:"COMPONENTS/WGridView",parameters:{componentSubtitle:"表格组件",docs:{description:{component:"表格组件描述"}}}};let Fe=[{name:"张三",age:18,sex:"男"}];const S={args:{javaApi:()=>new Promise(e=>{setTimeout(()=>{e({status:200,data:Fe})})}),columns:[{label:"名称",prop:"name"},{label:"年龄",prop:"age"},{label:"性别",prop:"sex"}],responseCb:e=>e.data}},I={args:{...S.args,checkboxColumn:{type:"selection"}}};var Y,_,G;S.parameters={...S.parameters,docs:{...(Y=S.parameters)==null?void 0:Y.docs,source:{originalSource:`{
  args: {
    //👇 The args you need here will depend on your component
    javaApi: () => {
      return new Promise(resolve => {
        setTimeout(() => {
          resolve({
            status: 200,
            data: data
          });
        });
      });
    },
    columns: [{
      label: "名称",
      prop: "name"
    }, {
      label: "年龄",
      prop: "age"
    }, {
      label: "性别",
      prop: "sex"
    }],
    responseCb: res => {
      return res.data;
    }
  }
}`,...(G=(_=S.parameters)==null?void 0:_.docs)==null?void 0:G.source}}};var W,Z,L;I.parameters={...I.parameters,docs:{...(W=I.parameters)==null?void 0:W.docs,source:{originalSource:`{
  args: {
    ...Base.args,
    checkboxColumn: {
      type: "selection"
    }
  }
}`,...(L=(Z=I.parameters)==null?void 0:Z.docs)==null?void 0:L.source}}};const He=["Base","MultipleChoice"];export{S as Base,I as MultipleChoice,He as __namedExportsOrder,Be as default};
