import{d as L,r as w,b as u,a as T,o as s,e as r,w as j,f as o,t as c,F as m,g as A,c as p,h as y,i as x,v as D}from"./vue.esm-bundler-ngpQzEkL.js";import{_ as P,a as N,b,c as V,d as S,e as h,f as O}from"./word-URG0C6V6.js";import{u as J}from"./oss-B4DI-S0s.js";import{E as M}from"./index-hHGQCipJ.js";import"./index-Bna4lvNQ.js";const U={class:"float-left w-11/12"},W={class:"flex"},$=["onClick"],q={key:0},G={class:"border-gray-300 border-2 w-9 h-9"},H={key:0,class:"cursor-pointer w-full h-full",src:P},K={key:1,class:"cursor-pointer w-full h-full",src:N},Q={key:2,class:"cursor-pointer w-full h-full",src:b},R={key:3,class:"cursor-pointer w-full h-full",src:V},X={key:4,class:"cursor-pointer w-full h-full",src:S},Y={key:5,class:"cursor-pointer w-full h-full",src:h},Z={key:6,class:"cursor-pointer w-full h-full",src:O},ee={key:7,class:"cursor-pointer w-full h-full",src:h},le=["src"],se={key:1,class:"border-gray-300 border-2 w-9 h-9"},re={key:0,class:"cursor-pointer w-full h-full",src:P},ae={key:1,class:"cursor-pointer w-full h-full",src:N},te={key:2,class:"cursor-pointer w-full h-full",src:b},ne={key:3,class:"cursor-pointer w-full h-full",src:V},ie={key:4,class:"cursor-pointer w-full h-full",src:S},oe={key:5,class:"cursor-pointer w-full h-full",src:h},fe={key:6,class:"cursor-pointer w-full h-full",src:O},ue=["src"],ce=["title"],z=L({__name:"main",props:{isDelete:{type:Boolean,default(){return!1}},showFileName:{type:Boolean,default(){return!0}},type:{type:String,default(){return"primary"}},size:{type:String,default(){return"mini"}},playType:{type:Array,default(){return["mp3"]}},imgType:{type:Array,default(){return["jpg","gif","png","image/jpeg"]}},file:{type:Array,default(){return[]}},importType:{type:String,default(){return"PC"}},isViewImg:{type:Boolean,default:!1}},setup(t){w(!1),w({url(a){return a.src.replace("?x-oss-process=image/resize,m_pad,h_50,w_50,color_ffffff","")},filter(a){return!!a.getAttribute("isImg")},toolbar:!1,title:!1,navbar:!1});const n=t;function B(a,e){if(n.importType=="Web"&&!n.isViewImg){let i=f.value+"/"+a.filePath;if(a.filePath.indexOf(".xls")!=-1||a.filePath.indexOf(".xlsx")!=-1)return location.href=i,!1;window.download(f.value+"/"+a.filePath);return}a.fileType&&a.fileType!=1&&M.alert("暂不支持查看此文件,请到手机端查看","提示",{confirmButtonText:"确定"})}const f=u(()=>J(window.pinia).upOss),_=u(()=>{if(!n.file)return[];let a=[];return n.file.forEach(e=>{if(e.fileType==1){let i=f.value+"/"+e.filePath;a.push(i)}}),a}),I=u(()=>200),C=u(()=>{if(!n.file)return[];let a=JSON.parse(JSON.stringify(n.file));return n.file.length>0?a.filter(e=>(e.fileName?e.fileName:e.fileName=e.filename,e.fileSize?e.fileSize:e.fileSize=e.filesize,e.fileSuffix?e.fileSuffix:e.fileSuffix=e.filetype,e.filePath?e.filePath:e.filePath=e.fileurl||e.fileUrl,e.fileType?e.fileType:e.fileType=e.filetype||e.fileType,e.filePath&&e.filePath.indexOf("https://")=="-1"?e.myPath=f.value+"/"+e.filePath:e.myPath=e.filePath,e.myPath+="?x-oss-process=image/resize,m_pad,h_50,w_50,color_ffffff",e.myFileType=e.filePath?e.filePath.replace(/.+\./,""):e.filePath,!0)):[]});return(a,e)=>{const i=T("el-image"),g=T("el-tooltip");return s(),r("div",U,[j(o("span",null,c(I.value),513),[[D,!1]]),o("ul",W,[(s(!0),r(m,null,A(C.value,(l,E)=>(s(),r("li",{class:"relative mr-2.5 mb-2.5",onClick:pe=>B(l),key:E},[l.fileName?(s(),p(g,{key:0,placement:"bottom-start"},{content:y(()=>[l.fileName?(s(),r("div",q,c(l.fileName),1)):x("",!0)]),default:y(()=>[o("div",G,[t.playType.indexOf(l.myFileType)>=0&&!l.filePlaying?(s(),r("img",H)):t.playType.indexOf(l.myFileType)>=0&&l.filePlaying?(s(),r("img",K)):l.myFileType=="xlsx"||l.myFileType=="xls"?(s(),r("img",Q)):l.myFileType=="pdf"?(s(),r("img",R)):l.myFileType=="txt"?(s(),r("img",X)):l.myFileType=="ppt"||l.myFileType=="pptx"?(s(),r("img",Y)):l.myFileType=="doc"||l.myFileType=="docx"?(s(),r("img",Z)):l.myFileType=="rar"||l.myFileType=="zip"?(s(),r("img",ee)):(s(),r(m,{key:8},[t.isViewImg?(s(),p(i,{key:0,class:"cursor-pointer w-full h-full","z-index":99999,src:l.myPath,"preview-src-list":_.value},null,8,["src","preview-src-list"])):(s(),r("img",{key:1,class:"cursor-pointer w-full h-full",isImg:"1",src:l.myPath},null,8,le))],64))])]),_:2},1024)):(s(),r("div",se,[t.playType.indexOf(l.myFileType)>=0&&!l.filePlaying?(s(),r("img",re)):t.playType.indexOf(l.myFileType)>=0&&l.filePlaying?(s(),r("img",ae)):l.myFileType=="xlsx"||l.myFileType=="xls"?(s(),r("img",te)):l.myFileType=="pdf"?(s(),r("img",ne)):l.myFileType=="txt"?(s(),r("img",ie)):l.myFileType=="ppt"||l.myFileType=="pptx"?(s(),r("img",oe)):l.myFileType=="doc"||l.myFileType=="docx"?(s(),r("img",fe)):(s(),r(m,{key:7},[t.isViewImg?(s(),p(i,{key:0,class:"cursor-pointer w-full h-full","z-index":99999,src:l.myPath,"preview-src-list":_.value},null,8,["src","preview-src-list"])):(s(),r("img",{key:1,class:"cursor-pointer w-full h-full",isImg:"1",src:l.myPath},null,8,ue))],64))])),l.fileName&&t.showFileName?(s(),p(g,{key:2,placement:"bottom-start"},{content:y(()=>[o("div",null,c(l.fileName),1)]),default:y(()=>[o("p",{class:"truncate ft-size12 fc-6 w-9",title:l.fileName},c(l.fileName),9,ce)]),_:2},1024)):x("",!0)],8,$))),128))])])}}});z.__docgenInfo={exportName:"default",displayName:"main",description:"",tags:{},props:[{name:"isDelete",type:{name:"boolean"},defaultValue:{func:!0,value:`function() {
  return false;
}`}},{name:"showFileName",type:{name:"boolean"},defaultValue:{func:!0,value:`function() {
  return true;
}`}},{name:"type",type:{name:"string"},defaultValue:{func:!0,value:`function() {
  return "primary";
}`}},{name:"size",type:{name:"string"},defaultValue:{func:!0,value:`function() {
  return "mini";
}`}},{name:"playType",type:{name:"array"},defaultValue:{func:!1,value:'["mp3"]'}},{name:"imgType",type:{name:"array"},defaultValue:{func:!1,value:'["jpg", "gif", "png", "image/jpeg"]'}},{name:"file",type:{name:"array"},defaultValue:{func:!1,value:"[]"}},{name:"importType",type:{name:"string"},defaultValue:{func:!0,value:`function() {
  return "PC";
}`}},{name:"isViewImg",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}}],sourceFiles:["/home/runner/work/npm-vue3-plugins/npm-vue3-plugins/packages/components/flieList/src/main.vue"]};const ge={component:z,tags:["autodocs"],argTypes:{},title:"COMPONENTS/FileList",parameters:{componentSubtitle:"文件查看组件",docs:{description:{component:"简单的文件查看组件"}}}},d={args:{file:[{filePath:"business/46551_1715658317_7164.png",fileType:1}],isViewImg:!0}};var v,k,F;d.parameters={...d.parameters,docs:{...(v=d.parameters)==null?void 0:v.docs,source:{originalSource:`{
  args: {
    file: [{
      filePath: 'business/46551_1715658317_7164.png',
      fileType: 1
    }],
    isViewImg: true
  }
}`,...(F=(k=d.parameters)==null?void 0:k.docs)==null?void 0:F.source}}};const we=["Base"];export{d as Base,we as __namedExportsOrder,ge as default};
