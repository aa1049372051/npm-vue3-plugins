import{d as Q}from"./index-Bna4lvNQ.js";const H="3.7.7",X=H,g=typeof Buffer=="function",_=typeof TextDecoder=="function"?new TextDecoder:void 0,U=typeof TextEncoder=="function"?new TextEncoder:void 0,Y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",y=Array.prototype.slice.call(Y),p=(t=>{let e={};return t.forEach((r,n)=>e[r]=n),e})(y),j=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,u=String.fromCharCode.bind(String),w=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):t=>new Uint8Array(Array.prototype.slice.call(t,0)),I=t=>t.replace(/=/g,"").replace(/[+\/]/g,e=>e=="+"?"-":"_"),k=t=>t.replace(/[^A-Za-z0-9\+\/]/g,""),E=t=>{let e,r,n,f,o="";const a=t.length%3;for(let s=0;s<t.length;){if((r=t.charCodeAt(s++))>255||(n=t.charCodeAt(s++))>255||(f=t.charCodeAt(s++))>255)throw new TypeError("invalid character found");e=r<<16|n<<8|f,o+=y[e>>18&63]+y[e>>12&63]+y[e>>6&63]+y[e&63]}return a?o.slice(0,a-3)+"===".substring(a):o},B=typeof btoa=="function"?t=>btoa(t):g?t=>Buffer.from(t,"binary").toString("base64"):E,v=g?t=>Buffer.from(t).toString("base64"):t=>{let r=[];for(let n=0,f=t.length;n<f;n+=4096)r.push(u.apply(null,t.subarray(n,n+4096)));return B(r.join(""))},A=(t,e=!1)=>e?I(v(t)):v(t),tt=t=>{if(t.length<2){var e=t.charCodeAt(0);return e<128?t:e<2048?u(192|e>>>6)+u(128|e&63):u(224|e>>>12&15)+u(128|e>>>6&63)+u(128|e&63)}else{var e=65536+(t.charCodeAt(0)-55296)*1024+(t.charCodeAt(1)-56320);return u(240|e>>>18&7)+u(128|e>>>12&63)+u(128|e>>>6&63)+u(128|e&63)}},et=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,z=t=>t.replace(et,tt),O=g?t=>Buffer.from(t,"utf8").toString("base64"):U?t=>v(U.encode(t)):t=>B(z(t)),x=(t,e=!1)=>e?I(O(t)):O(t),F=t=>x(t,!0),rt=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,nt=t=>{switch(t.length){case 4:var e=(7&t.charCodeAt(0))<<18|(63&t.charCodeAt(1))<<12|(63&t.charCodeAt(2))<<6|63&t.charCodeAt(3),r=e-65536;return u((r>>>10)+55296)+u((r&1023)+56320);case 3:return u((15&t.charCodeAt(0))<<12|(63&t.charCodeAt(1))<<6|63&t.charCodeAt(2));default:return u((31&t.charCodeAt(0))<<6|63&t.charCodeAt(1))}},R=t=>t.replace(rt,nt),N=t=>{if(t=t.replace(/\s+/g,""),!j.test(t))throw new TypeError("malformed base64.");t+="==".slice(2-(t.length&3));let e,r="",n,f;for(let o=0;o<t.length;)e=p[t.charAt(o++)]<<18|p[t.charAt(o++)]<<12|(n=p[t.charAt(o++)])<<6|(f=p[t.charAt(o++)]),r+=n===64?u(e>>16&255):f===64?u(e>>16&255,e>>8&255):u(e>>16&255,e>>8&255,e&255);return r},S=typeof atob=="function"?t=>atob(k(t)):g?t=>Buffer.from(t,"base64").toString("binary"):N,Z=g?t=>w(Buffer.from(t,"base64")):t=>w(S(t).split("").map(e=>e.charCodeAt(0))),D=t=>Z(K(t)),ot=g?t=>Buffer.from(t,"base64").toString("utf8"):_?t=>_.decode(Z(t)):t=>R(S(t)),K=t=>k(t.replace(/[-_]/g,e=>e=="-"?"+":"/")),m=t=>ot(K(t)),at=t=>{if(typeof t!="string")return!1;const e=t.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(e)||!/[^\s0-9a-zA-Z\-_]/.test(e)},P=t=>({value:t,enumerable:!1,writable:!0,configurable:!0}),M=function(){const t=(e,r)=>Object.defineProperty(String.prototype,e,P(r));t("fromBase64",function(){return m(this)}),t("toBase64",function(e){return x(this,e)}),t("toBase64URI",function(){return x(this,!0)}),t("toBase64URL",function(){return x(this,!0)}),t("toUint8Array",function(){return D(this)})},V=function(){const t=(e,r)=>Object.defineProperty(Uint8Array.prototype,e,P(r));t("toBase64",function(e){return A(this,e)}),t("toBase64URI",function(){return A(this,!0)}),t("toBase64URL",function(){return A(this,!0)})},st=()=>{M(),V()},ft={version:H,VERSION:X,atob:S,atobPolyfill:N,btoa:B,btoaPolyfill:E,fromBase64:m,toBase64:x,encode:x,encodeURI:F,encodeURL:F,utob:z,btou:R,decode:m,isValid:at,fromUint8Array:A,toUint8Array:D,extendString:M,extendUint8Array:V,extendBuiltins:st};var l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";let d={};var c=d.util={setOss:function(t){t.accessKeyId;let e=t.accessKeySecret,r=`https://${t.bucketName}.${t.endpoint}`,n=new Date(new Date(new Date().getTime()+36e5*24));n.setHours(n.getHours(),n.getMinutes()-n.getTimezoneOffset());var f={expiration:n.toISOString(),conditions:[["content-length-range",0,1048576e3]]};let o="";var a=ft.encode(JSON.stringify(f));o=a;var s=d.HMAC(d.SHA1,o,e,{asBytes:!0}),h=d.util.bytesToBase64(s);return t.host=r,t.policy=a,t.signature=h,t},rotl:function(t,e){return t<<e|t>>>32-e},rotr:function(t,e){return t<<32-e|t>>>e},endian:function(t){if(t.constructor==Number)return c.rotl(t,8)&16711935|c.rotl(t,24)&4278255360;for(var e=0;e<t.length;e++)t[e]=c.endian(t[e]);return t},randomBytes:function(t){for(var e=[];t>0;t--)e.push(Math.floor(Math.random()*256));return e},stringToBytes:function(t){for(var e=[],r=0;r<t.length;r++)e.push(t.charCodeAt(r));return e},bytesToString:function(t){for(var e=[],r=0;r<t.length;r++)e.push(String.fromCharCode(t[r]));return e.join("")},stringToWords:function(t){for(var e=[],r=0,n=0;r<t.length;r++,n+=8)e[n>>>5]|=t.charCodeAt(r)<<24-n%32;return e},bytesToWords:function(t){for(var e=[],r=0,n=0;r<t.length;r++,n+=8)e[n>>>5]|=t[r]<<24-n%32;return e},wordsToBytes:function(t){for(var e=[],r=0;r<t.length*32;r+=8)e.push(t[r>>>5]>>>24-r%32&255);return e},bytesToHex:function(t){for(var e=[],r=0;r<t.length;r++)e.push((t[r]>>>4).toString(16)),e.push((t[r]&15).toString(16));return e.join("")},hexToBytes:function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(parseInt(t.substr(r,2),16));return e},bytesToBase64:function(t){if(typeof btoa=="function")return btoa(c.bytesToString(t));for(var e=[],r,n=0;n<t.length;n++)switch(n%3){case 0:e.push(l.charAt(t[n]>>>2)),r=(t[n]&3)<<4;break;case 1:e.push(l.charAt(r|t[n]>>>4)),r=(t[n]&15)<<2;break;case 2:e.push(l.charAt(r|t[n]>>>6)),e.push(l.charAt(t[n]&63)),r=-1}for(r!=null&&r!=-1&&e.push(l.charAt(r));e.length%4!=0;)e.push("=");return e.join("")},base64ToBytes:function(t){if(typeof atob=="function")return c.stringToBytes(atob(t));t=t.replace(/[^A-Z0-9+\/]/gi,"");for(var e=[],r=0;r<t.length;r++)switch(r%4){case 1:e.push(l.indexOf(t.charAt(r-1))<<2|l.indexOf(t.charAt(r))>>>4);break;case 2:e.push((l.indexOf(t.charAt(r-1))&15)<<4|l.indexOf(t.charAt(r))>>>2);break;case 3:e.push((l.indexOf(t.charAt(r-1))&3)<<6|l.indexOf(t.charAt(r)));break}return e}};d.mode={};d.HMAC=function(t,e,r,n){r=r.length>t._blocksize*4?t(r,{asBytes:!0}):c.stringToBytes(r);for(var f=r,o=r.slice(0),a=0;a<t._blocksize*4;a++)f[a]^=92,o[a]^=54;var s=t(c.bytesToString(f)+t(c.bytesToString(o)+e,{asString:!0}),{asBytes:!0});return n&&n.asBytes?s:n&&n.asString?c.bytesToString(s):c.bytesToHex(s)};var C=d.SHA1=function(t,e){var r=c.wordsToBytes(C._sha1(t));return e&&e.asBytes?r:e&&e.asString?c.bytesToString(r):c.bytesToHex(r)};C._sha1=function(t){var e=c.stringToWords(t),r=t.length*8,n=[],f=1732584193,o=-271733879,a=-1732584194,s=271733878,h=-1009589776;e[r>>5]|=128<<24-r%32,e[(r+64>>>9<<4)+15]=r;for(var b=0;b<e.length;b+=16){for(var $=f,L=o,W=a,J=s,q=h,i=0;i<80;i++){if(i<16)n[i]=e[b+i];else{var T=n[i-3]^n[i-8]^n[i-14]^n[i-16];n[i]=T<<1|T>>>31}var G=(f<<5|f>>>27)+h+(n[i]>>>0)+(i<20?(o&a|~o&s)+1518500249:i<40?(o^a^s)+1859775393:i<60?(o&a|o&s|a&s)-1894007588:(o^a^s)-899497514);h=s,s=a,a=o<<30|o>>>2,o=f,f=G}f+=$,o+=L,a+=W,s+=J,h+=q}return[f,o,a,s,h]};C._blocksize=16;const it=Q("oss",{state:()=>({upOss:"",ossConfig:{}}),actions:{setOssConfig(t){this.upOss=`https://${t.bucketName}.${t.endpoint}`;let e=d.util.setOss(t),r={policy:e.policy||"",accessKeyId:e.accessKeyId||"",signature:e.signature||"",accessKeySecret:e.accessKeySecret||"",endpoint:e.endpoint||"",bucketName:e.bucketName||""};this.ossConfig=r}}});export{it as u};
